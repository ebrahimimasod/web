import{c as g}from"./utils-BSfSTJJn.js";import{d as _,_ as C,c as E,u as $,P as V,a as q}from"./usePrimitiveElement-CgzIm-HW.js";import{d as f,c as p,H as A,h as c,o as d,m,a as S,q as P,F as j,s as F,w as b,r as y,k as R,u as l,A as H,j as I,e as M,I as O}from"./app-DP28Mstu.js";import{u as K}from"./index-Cc0VYeQ3.js";import{u as L}from"./useFormControl-BfNetiCY.js";const B=f({inheritAttrs:!1,__name:"VisuallyHiddenInputBubble",props:{name:{},value:{},checked:{type:Boolean,default:void 0},required:{type:Boolean},disabled:{type:Boolean},feature:{default:"fully-hidden"}},setup(i){const e=i,{primitiveElement:n,currentElement:u}=_(),a=p(()=>e.checked??e.value);return A(a,(t,r)=>{if(!u.value)return;const o=u.value,v=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(v,"value").set;if(h&&t!==r){const s=new Event("input",{bubbles:!0}),w=new Event("change",{bubbles:!0});h.call(o,t),o.dispatchEvent(s),o.dispatchEvent(w)}}),(t,r)=>(d(),c(C,m({ref_key:"primitiveElement",ref:n},{...e,...t.$attrs},{as:"input"}),null,16))}}),T=f({inheritAttrs:!1,__name:"VisuallyHiddenInput",props:{name:{},value:{},checked:{type:Boolean,default:void 0},required:{type:Boolean},disabled:{type:Boolean},feature:{default:"fully-hidden"}},setup(i){const e=i,n=p(()=>typeof e.value=="object"&&Array.isArray(e.value)&&e.value.length===0&&e.required),u=p(()=>typeof e.value=="string"||typeof e.value=="number"||typeof e.value=="boolean"?[{name:e.name,value:e.value}]:typeof e.value=="object"&&Array.isArray(e.value)?e.value.flatMap((a,t)=>typeof a=="object"?Object.entries(a).map(([r,o])=>({name:`[${e.name}][${t}][${r}]`,value:o})):{name:`[${e.name}][${t}]`,value:a}):e.value!==null&&typeof e.value=="object"&&!Array.isArray(e.value)?Object.entries(e.value).map(([a,t])=>({name:`[${e.name}][${a}]`,value:t})):[]);return(a,t)=>n.value?(d(),c(B,m({key:a.name},{...e,...a.$attrs},{name:a.name,value:a.value}),null,16,["name","value"])):(d(!0),S(j,{key:1},P(u.value,r=>(d(),c(B,m({key:r.name,ref_for:!0},{...e,...a.$attrs},{name:r.name,value:r.value}),null,16,["name","value"]))),128))}}),[N,z]=E("SwitchRoot"),D=f({__name:"SwitchRoot",props:{defaultValue:{type:Boolean},modelValue:{type:[Boolean,null],default:void 0},disabled:{type:Boolean},id:{},value:{default:"on"},asChild:{type:Boolean},as:{default:"button"},name:{},required:{type:Boolean}},emits:["update:modelValue"],setup(i,{emit:e}){const n=i,u=e,{disabled:a}=F(n),t=K(n,"modelValue",u,{defaultValue:n.defaultValue,passive:n.modelValue===void 0});function r(){a.value||(t.value=!t.value)}const{forwardRef:o,currentElement:v}=$(),k=L(v),h=p(()=>{var s;return n.id&&v.value?(s=document.querySelector(`[for="${n.id}"]`))==null?void 0:s.innerText:void 0});return z({modelValue:t,toggleCheck:r,disabled:a}),(s,w)=>(d(),c(l(V),m(s.$attrs,{id:s.id,ref:l(o),role:"switch",type:s.as==="button"?"button":void 0,value:s.value,"aria-label":s.$attrs["aria-label"]||h.value,"aria-checked":l(t),"aria-required":s.required,"data-state":l(t)?"checked":"unchecked","data-disabled":l(a)?"":void 0,"as-child":s.asChild,as:s.as,disabled:l(a),onClick:r,onKeydown:H(I(r,["prevent"]),["enter"])}),{default:b(()=>[y(s.$slots,"default",{modelValue:l(t)}),l(k)&&s.name?(d(),c(l(T),{key:0,type:"checkbox",name:s.name,disabled:l(a),required:s.required,value:s.value,checked:!!l(t)},null,8,["name","disabled","required","value","checked"])):R("",!0)]),_:3},16,["id","type","value","aria-label","aria-checked","aria-required","data-state","data-disabled","as-child","as","disabled","onKeydown"]))}}),G=f({__name:"SwitchThumb",props:{asChild:{type:Boolean},as:{default:"span"}},setup(i){const e=N();return $(),(n,u)=>{var a;return d(),c(l(V),{"data-state":(a=l(e).modelValue)!=null&&a.value?"checked":"unchecked","data-disabled":l(e).disabled.value?"":void 0,"as-child":n.asChild,as:n.as},{default:b(()=>[y(n.$slots,"default")]),_:3},8,["data-state","data-disabled","as-child","as"])}}}),Y=f({__name:"Switch",props:{defaultValue:{type:Boolean},modelValue:{type:[Boolean,null]},disabled:{type:Boolean},id:{},value:{},asChild:{type:Boolean},as:{},name:{},required:{type:Boolean},class:{}},emits:["update:modelValue"],setup(i,{emit:e}){const n=i,u=e,a=p(()=>{const{class:r,...o}=n;return o}),t=q(a,u);return(r,o)=>(d(),c(l(D),m(l(t),{class:l(g)("peer inline-flex h-5 w-10 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",n.class)}),{default:b(()=>[M(l(G),{class:O(l(g)("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:-translate-x-5"))},{default:b(()=>[y(r.$slots,"thumb")]),_:3},8,["class"])]),_:3},16,["class"]))}});export{T as _,Y as a};
