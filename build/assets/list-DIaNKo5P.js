import{C as K,a as O,b as Q,c as X,d as z,e as W,_ as Y}from"./AppLayout.vue_vue_type_script_setup_true_lang-Cmd2bEEB.js";import{d as m,h as c,o as p,w as o,r as v,i as f,m as x,u as e,s as Z,c as _,B as E,C as L,t as y,e as t,I as j,a as R,k as q,F as U,q as H,W as S,D as G,v as ee,H as ae,b as B,p as te,g as se}from"./app-DP28Mstu.js";import{_ as le,a as ne,b as A,c as k,d as oe,e as w,f as re}from"./TableRow.vue_vue_type_script_setup_true_lang-C8SAe277.js";import{c as V,t as ue}from"./utils-BSfSTJJn.js";import{_ as h}from"./Button.vue_vue_type_script_setup_true_lang-BSeTgO86.js";import{E as J,C as ie,b as de,c as pe,S as fe,_ as ce,U as me,T as ge,d as _e,e as ve}from"./AppPageTitle.vue_vue_type_script_setup_true_lang-DcF92J2B.js";import{u as $,P as C,c as be}from"./usePrimitiveElement-CgzIm-HW.js";import{u as Pe,k as $e}from"./index-Cc0VYeQ3.js";import{_ as T}from"./index-BAM79J8k.js";import{_ as Ce}from"./Input.vue_vue_type_script_setup_true_lang-Cgn1UZ3U.js";import{_ as ye}from"./DeleteResource.vue_vue_type_script_setup_true_lang-DjbOz52Z.js";import"./createLucideIcon-D8MTOjv4.js";import"./x-Brxy_dM3.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-BkZNvy2m.js";import"./Collection-Cd6XSlzf.js";import"./utils-SADwiPWk.js";import"./check-Fhtre2rC.js";import"./chevron-up-BYpCT4jK.js";import"./circle-oLloqKHD.js";import"./sun-CslGCefH.js";import"./DialogTitle.vue_vue_type_script_setup_true_lang-Lt3zUOMk.js";import"./DialogClose.vue_vue_type_script_setup_true_lang-BcFxCtAr.js";import"./DialogFooter.vue_vue_type_script_setup_true_lang-Aedn_SEp.js";const he=m({__name:"PaginationEllipsis",props:{asChild:{type:Boolean},as:{}},setup(r){const s=r;return $(),(a,i)=>(p(),c(e(C),x(s,{"data-type":"ellipsis"}),{default:o(()=>[v(a.$slots,"default",{},()=>[i[0]||(i[0]=f("…"))])]),_:3},16))}}),[I,xe]=be("PaginationRoot"),ke=m({__name:"PaginationRoot",props:{page:{},defaultPage:{default:1},itemsPerPage:{},total:{default:0},siblingCount:{default:2},disabled:{type:Boolean},showEdges:{type:Boolean,default:!1},asChild:{type:Boolean},as:{default:"nav"}},emits:["update:page"],setup(r,{emit:s}){const a=r,i=s,{siblingCount:u,disabled:l,showEdges:n}=Z(a);$();const d=Pe(a,"page",i,{defaultValue:a.defaultPage,passive:a.page===void 0}),g=_(()=>Math.max(1,Math.ceil(a.total/(a.itemsPerPage||1))));return xe({page:d,onPageChange(b){d.value=b},pageCount:g,siblingCount:u,disabled:l,showEdges:n}),(b,M)=>(p(),c(e(C),{as:b.as,"as-child":b.asChild},{default:o(()=>[v(b.$slots,"default",{page:e(d),pageCount:g.value})]),_:3},8,["as","as-child"]))}}),we=m({__name:"PaginationFirst",props:{asChild:{type:Boolean},as:{default:"button"}},setup(r){const s=r,a=I();$();const i=_(()=>a.page.value===1||a.disabled.value);return(u,l)=>(p(),c(e(C),x(s,{"aria-label":"First Page",type:u.as==="button"?"button":void 0,disabled:i.value,onClick:l[0]||(l[0]=n=>!i.value&&e(a).onPageChange(1))}),{default:o(()=>[v(u.$slots,"default",{},()=>[l[1]||(l[1]=f("First page"))])]),_:3},16,["type","disabled"]))}}),Be=m({__name:"PaginationLast",props:{asChild:{type:Boolean},as:{default:"button"}},setup(r){const s=r,a=I();$();const i=_(()=>a.page.value===a.pageCount.value||a.disabled.value);return(u,l)=>(p(),c(e(C),x(s,{"aria-label":"Last Page",type:u.as==="button"?"button":void 0,disabled:i.value,onClick:l[0]||(l[0]=n=>!i.value&&e(a).onPageChange(e(a).pageCount.value))}),{default:o(()=>[v(u.$slots,"default",{},()=>[l[1]||(l[1]=f("Last page"))])]),_:3},16,["type","disabled"]))}});function P(r,s){const a=s-r+1;return Array.from({length:a},(i,u)=>u+r)}function Re(r){return r.map(s=>typeof s=="number"?{type:"page",value:s}:{type:"ellipsis"})}const F="ellipsis";function Ie(r,s,a,i){const l=s,n=Math.max(r-a,1),d=Math.min(r+a,l);if(i){const b=Math.min(2*a+5,s)-2,M=n>3&&Math.abs(l-b-1+1)>2&&Math.abs(n-1)>2,D=d<l-2&&Math.abs(l-b)>2&&Math.abs(l-d)>2;if(!M&&D)return[...P(1,b),F,l];if(M&&!D){const N=P(l-b+1,l);return[1,F,...N]}if(M&&D){const N=P(n,d);return[1,F,...N,F,l]}return P(1,l)}else{const g=a*2+1;return s<g?P(1,l):r<=a+1?P(1,g):s-r<=a?P(s-g+1,l):P(n,d)}}const Se=m({__name:"PaginationList",props:{asChild:{type:Boolean},as:{}},setup(r){const s=r;$();const a=I(),i=_(()=>Re(Ie(a.page.value,a.pageCount.value,a.siblingCount.value,a.showEdges.value)));return(u,l)=>(p(),c(e(C),E(L(s)),{default:o(()=>[v(u.$slots,"default",{items:i.value})]),_:3},16))}}),Ee=m({__name:"PaginationListItem",props:{value:{},asChild:{type:Boolean},as:{default:"button"}},setup(r){const s=r;$();const a=I(),i=_(()=>a.page.value===s.value),u=_(()=>a.disabled.value);return(l,n)=>(p(),c(e(C),x(s,{"data-type":"page","aria-label":`Page ${l.value}`,"aria-current":i.value?"page":void 0,"data-selected":i.value?"true":void 0,disabled:u.value,type:l.as==="button"?"button":void 0,onClick:n[0]||(n[0]=d=>!u.value&&e(a).onPageChange(l.value))}),{default:o(()=>[v(l.$slots,"default",{},()=>[f(y(l.value),1)])]),_:3},16,["aria-label","aria-current","data-selected","disabled","type"]))}}),Le=m({__name:"PaginationNext",props:{asChild:{type:Boolean},as:{default:"button"}},setup(r){const s=r;$();const a=I(),i=_(()=>a.page.value===a.pageCount.value||a.disabled.value);return(u,l)=>(p(),c(e(C),x(s,{"aria-label":"Next Page",type:u.as==="button"?"button":void 0,disabled:i.value,onClick:l[0]||(l[0]=n=>!i.value&&e(a).onPageChange(e(a).page.value+1))}),{default:o(()=>[v(u.$slots,"default",{},()=>[l[1]||(l[1]=f("Next page"))])]),_:3},16,["type","disabled"]))}}),Ve=m({__name:"PaginationPrev",props:{asChild:{type:Boolean},as:{default:"button"}},setup(r){const s=r;$();const a=I(),i=_(()=>a.page.value===1||a.disabled.value);return(u,l)=>(p(),c(e(C),x(s,{"aria-label":"Previous Page",type:u.as==="button"?"button":void 0,disabled:i.value,onClick:l[0]||(l[0]=n=>!i.value&&e(a).onPageChange(e(a).page.value-1))}),{default:o(()=>[v(u.$slots,"default",{},()=>[l[1]||(l[1]=f("Prev page"))])]),_:3},16,["type","disabled"]))}}),Me=m({__name:"PaginationEllipsis",props:{asChild:{type:Boolean},as:{},class:{}},setup(r){const s=r,a=_(()=>{const{class:i,...u}=s;return u});return(i,u)=>(p(),c(e(he),x(a.value,{class:e(V)("w-9 h-9 flex items-center justify-center",s.class)}),{default:o(()=>[v(i.$slots,"default",{},()=>[t(e(J))])]),_:3},16,["class"]))}}),Ne=m({__name:"PaginationFirst",props:{asChild:{type:Boolean,default:!0},as:{},class:{}},setup(r){const s=r,a=_(()=>{const{class:i,...u}=s;return u});return(i,u)=>(p(),c(e(we),E(L(a.value)),{default:o(()=>[t(e(h),{class:j(e(V)("w-10 h-10 p-0",s.class)),variant:"outline"},{default:o(()=>[v(i.$slots,"default",{},()=>[t(e(ie),{class:"h-4 w-4"})])]),_:3},8,["class"])]),_:3},16))}}),Fe=m({__name:"PaginationLast",props:{asChild:{type:Boolean,default:!0},as:{},class:{}},setup(r){const s=r,a=_(()=>{const{class:i,...u}=s;return u});return(i,u)=>(p(),c(e(Be),E(L(a.value)),{default:o(()=>[t(e(h),{class:j(e(V)("w-10 h-10 p-0",s.class)),variant:"outline"},{default:o(()=>[v(i.$slots,"default",{},()=>[t(e(de),{class:"h-4 w-4"})])]),_:3},8,["class"])]),_:3},16))}}),Ue=m({__name:"PaginationNext",props:{asChild:{type:Boolean,default:!0},as:{},class:{}},setup(r){const s=r,a=_(()=>{const{class:i,...u}=s;return u});return(i,u)=>(p(),c(e(Le),E(L(a.value)),{default:o(()=>[t(e(h),{class:j(e(V)("w-10 h-10 p-0",s.class)),variant:"outline"},{default:o(()=>[v(i.$slots,"default",{},()=>[t(e(K),{class:"h-4 w-4"})])]),_:3},8,["class"])]),_:3},16))}}),je=m({__name:"PaginationPrev",props:{asChild:{type:Boolean,default:!0},as:{},class:{}},setup(r){const s=r,a=_(()=>{const{class:i,...u}=s;return u});return(i,u)=>(p(),c(e(Ve),E(L(a.value)),{default:o(()=>[t(e(h),{class:j(e(V)("w-10 h-10 p-0",s.class)),variant:"outline"},{default:o(()=>[v(i.$slots,"default",{},()=>[t(e(pe),{class:"h-4 w-4"})])]),_:3},8,["class"])]),_:3},16))}}),De={key:0,class:"flex items-center justify-center"},ze=m({__name:"ResourcePagination",props:["meta"],setup(r){function s(a){S.get(G().url,{page:a},{preserveState:!0,replace:!0})}return(a,i)=>r.meta.total?(p(),R("div",De,[t(e(ke),{"items-per-page":r.meta.per_page,total:r.meta.total,"sibling-count":1,"show-edges":"",page:r.meta.current_page,"default-page":r.meta.current_page,"onUpdate:page":s},{default:o(({page:u})=>[t(e(Se),{class:"flex items-center gap-1"},{default:o(({items:l})=>[t(e(Ne)),t(e(je)),(p(!0),R(U,null,H(l,(n,d)=>(p(),R(U,null,[n.type==="page"?(p(),c(e(Ee),{key:d,value:n.value,"as-child":""},{default:o(()=>[t(e(h),{class:"w-10 h-10 p-0",variant:n.value===u?"default":"outline"},{default:o(()=>[f(y(n.value),1)]),_:2},1032,["variant"])]),_:2},1032,["value"])):(p(),c(e(Me),{key:n.type,index:d},null,8,["index"]))],64))),256)),t(e(Ue)),t(e(Fe))]),_:2},1024)]),_:1},8,["items-per-page","total","page","default-page"])])):q("",!0)}}),Te={class:"relative w-full min-w-[350px] items-center"},qe={class:"absolute start-0 inset-y-0 flex items-center justify-center px-2"},We=m({__name:"SearchInput",props:{value:{type:String}},emits:["change"],setup(r,{emit:s}){const a=r,i=s,u=ee(a.value);function l(){i("change",u.value)}const n=$e(l,600);return ae(()=>u.value,()=>{n()}),(d,g)=>(p(),R("div",Te,[t(e(Ce),{id:"search",type:"text",modelValue:u.value,"onUpdate:modelValue":g[0]||(g[0]=b=>u.value=b),placeholder:"جستجو...",class:"pr-10"},null,8,["modelValue"]),B("span",qe,[t(e(fe),{class:"size-6 text-muted-foreground"})])]))}}),Ae={class:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4"},He={class:"flex items-center justify-end"},_a=m({__name:"list",props:["users","keyword"],setup(r){const s=te({dialog:!1,url:null}),a=[{title:"پنل مدیریت",href:"/dashboard"},{title:"کاربران",href:"/users"}];function i(l){S.get(G().url,{page:1,keyword:l},{preserveState:!0,replace:!0})}function u(l){s.url=route("admin.users.destroy",{id:l}),s.dialog=!0}return(l,n)=>(p(),R(U,null,[t(e(se),{title:"مدیرت کاربران"}),t(Y,{breadcrumbs:a},{default:o(()=>[B("div",Ae,[t(ce,{icon:"users",title:"کاربران",subtitle:"در این جدول می توانید لیست همه کاربران را ببینید و آنها را مدیریت کنید."},{actions:o(()=>[B("div",He,[t(We,{class:"ml-2",onChange:i,value:r.keyword},null,8,["value"]),t(e(h),{variant:"outline",onClick:n[0]||(n[0]=d=>e(S).visit("/users/create"))},{default:o(()=>[t(e(me)),n[2]||(n[2]=f(" افزودن کاربر جدید "))]),_:1})])]),_:1}),t(e(le),null,{default:o(()=>[t(e(ne),null,{default:o(()=>[t(e(A),null,{default:o(()=>[t(e(k),null,{default:o(()=>n[3]||(n[3]=[f("نام")])),_:1}),t(e(k),null,{default:o(()=>n[4]||(n[4]=[f("ایمیل")])),_:1}),t(e(k),null,{default:o(()=>n[5]||(n[5]=[f("موبایل")])),_:1}),t(e(k),null,{default:o(()=>n[6]||(n[6]=[f("وضعیت")])),_:1}),t(e(k),null,{default:o(()=>n[7]||(n[7]=[f("تاریخ ثبت نام")])),_:1}),t(e(k),null,{default:o(()=>n[8]||(n[8]=[f("عملیات")])),_:1})]),_:1})]),_:1}),t(e(oe),null,{default:o(()=>[(p(!0),R(U,null,H(r.users.data,d=>(p(),c(e(A),null,{default:o(()=>[t(e(w),null,{default:o(()=>[f(y(d.first_name)+" "+y(d.last_name),1)]),_:2},1024),t(e(w),null,{default:o(()=>[f(y(d.email),1)]),_:2},1024),t(e(w),null,{default:o(()=>[f(y(d.phone_number),1)]),_:2},1024),t(e(w),null,{default:o(()=>[d.status?(p(),c(e(T),{key:0,variant:"secondary"},{default:o(()=>n[9]||(n[9]=[f(" فعال ")])),_:1})):(p(),c(e(T),{key:1,variant:"destructive"},{default:o(()=>n[10]||(n[10]=[f(" غیرفعال ")])),_:1})),d.is_admin?(p(),c(e(T),{key:2,class:"mr-1",variant:"default"},{default:o(()=>n[11]||(n[11]=[f(" ادمین ")])),_:1})):q("",!0)]),_:2},1024),t(e(w),null,{default:o(()=>[f(y(e(ue)(d.created_at)),1)]),_:2},1024),t(e(w),null,{default:o(()=>[t(e(O),null,{default:o(()=>[t(e(Q),null,{default:o(()=>[t(e(h),{variant:"ghost",size:"icon"},{default:o(()=>[t(e(J),{class:"w-4 h-4"})]),_:1})]),_:1}),t(e(X),null,{default:o(()=>[t(e(z),{onClick:g=>u(d.id),class:"cursor-pointer"},{default:o(()=>[t(e(ge),{class:"text-red-500"}),n[12]||(n[12]=B("span",{class:"text-red-500"},"حذف",-1))]),_:2},1032,["onClick"]),t(e(W)),t(e(z),{onClick:g=>e(S).visit(l.route("admin.users.edit",{id:d.id})),class:"cursor-pointer"},{default:o(()=>[t(e(_e)),n[13]||(n[13]=B("span",null,"ویرایش",-1))]),_:2},1032,["onClick"]),t(e(W)),t(e(z),{onClick:g=>e(S).visit(l.route("admin.users.show",{id:d.id})),class:"cursor-pointer"},{default:o(()=>[t(e(ve)),n[14]||(n[14]=B("span",null,"نمایش",-1))]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024))),256))]),_:1})]),_:1}),r.users.data.length?q("",!0):(p(),c(e(re),{key:0})),t(ze,{meta:r.users.meta},null,8,["meta"]),t(ye,{modelValue:s.dialog,"onUpdate:modelValue":n[1]||(n[1]=d=>s.dialog=d),label:"کاربر ",url:s.url},null,8,["modelValue","url"])])]),_:1})],64))}});export{_a as default};
