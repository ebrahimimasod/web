import{_ as V}from"./AppLayout.vue_vue_type_script_setup_true_lang-Cmd2bEEB.js";import{d as U,v as z,x as B,a as r,o as l,e,u as t,g as D,w as i,b as a,h as m,i as d,W as N,F as u,q as g,k as p,t as c}from"./app-DP28Mstu.js";import{_ as T,a as f}from"./AppPageTitle.vue_vue_type_script_setup_true_lang-DcF92J2B.js";import{_}from"./Button.vue_vue_type_script_setup_true_lang-BSeTgO86.js";import{t as F}from"./utils-BSfSTJJn.js";import{_ as H,a as M,b as W,c as q}from"./DialogTitle.vue_vue_type_script_setup_true_lang-Lt3zUOMk.js";import{_ as E}from"./DialogClose.vue_vue_type_script_setup_true_lang-BcFxCtAr.js";import{_ as I}from"./DialogFooter.vue_vue_type_script_setup_true_lang-Aedn_SEp.js";import{_ as b}from"./index-BAM79J8k.js";import{_ as $,a as w,b as C}from"./index-DD4-EltE.js";import"./index-Cc0VYeQ3.js";import"./createLucideIcon-D8MTOjv4.js";import"./x-Brxy_dM3.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-BkZNvy2m.js";import"./usePrimitiveElement-CgzIm-HW.js";import"./Collection-Cd6XSlzf.js";import"./utils-SADwiPWk.js";import"./check-Fhtre2rC.js";import"./chevron-up-BYpCT4jK.js";import"./circle-oLloqKHD.js";import"./sun-CslGCefH.js";const P={class:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4"},S={class:"mt-4"},A={class:"flex items-center justify-end"},G={class:"flex items-start justify-between p-2 dark:bg-gray-950 bg-gray-100 rounded-md mb-6"},J={class:"flex items-start justify-start flex-col"},K={class:"flex items-center justify-start"},O={class:"flex items-center justify-start"},Q={class:"text-sm mx-1 font-bold"},R={class:"mr-3 text-blue-500 cursor-pointer flex items-center justify-center"},X=["onClick"],Y={class:"flex items-center justify-start opacity-70 text-[13px] mt-1 pr-4"},Z={class:"mr-1"},ss={key:0,class:"mt-4 mr-6"},ts={class:"list-disc p-2"},es=["innerHTML"],as={class:"space-y-6"},is={key:0,class:"flex items-center justify-center flex-col"},ls={key:0},Ls=U({__name:"versions",props:["versions","currentVersion","isUpdated"],setup(k){const j=[{title:"پنل مدیریت",href:"/dashboard"},{title:"به‌روز‌رسانی",href:"/update"}],x=k,h=z(x.versions.map(n=>({...n,showLog:!1}))),v=B({isUpdated:!1});return(n,s)=>(l(),r(u,null,[e(t(D),{title:"به‌روز‌رسانی"}),e(V,{breadcrumbs:j},{default:i(()=>[a("div",P,[e(T,{icon:"refreshCw",title:"به‌روز‌رسانی",subtitle:"در این صفحه می‌توانید نسخه‌های مختلف سایت را ببنید و به اخرین نسخه به‌روزرسانی کنید"}),a("div",S,[k.isUpdated?(l(),m(t($),{key:0,class:"mb-6"},{default:i(()=>[e(t(w),{class:"flex items-center justify-start"},{default:i(()=>[e(f,{name:"circleCheck",class:"text-green-600 ml-2 size-5 stroke-2"}),s[3]||(s[3]=a("span",null," تبریک! سایت شما به‌روز است.",-1))]),_:1}),e(t(C),{class:"pr-6"},{default:i(()=>s[4]||(s[4]=[d(" شما از آخرین نسخه سایت استفاده می کنید. ")])),_:1})]),_:1})):(l(),m(t($),{key:1,class:"mb-6",variant:"warning"},{default:i(()=>[e(t(w),{class:"flex items-center justify-between"},{default:i(()=>[s[6]||(s[6]=a("span",null," توجه! سایت شما نیاز به به‌روزرسانی دارد. ",-1)),a("div",A,[e(t(_),{variant:"outline",onClick:s[0]||(s[0]=o=>t(N).visit(n.route("admin.update.run")))},{default:i(()=>[e(f,{name:"refreshCw"}),s[5]||(s[5]=d(" به‎‌روزرسانی به اخرین نسخه "))]),_:1})])]),_:1}),e(t(C),null,{default:i(()=>s[7]||(s[7]=[d(" برای به‌روزرسانی روی دکمه مقابل کلیک کنید. ")])),_:1})]),_:1})),(l(!0),r(u,null,g(h.value,(o,L)=>(l(),r("div",G,[a("div",J,[a("div",K,[a("div",O,[e(f,{name:"package",class:"ml-2"}),a("span",null,c(o.title),1),a("small",Q,"(نسخه "+c(o.version)+")",1),a("div",R,[a("span",{class:"text-[12px]",onClick:y=>o.showLog=!o.showLog}," تغییرات این نسخه ",8,X),o.showLog?(l(),m(f,{key:1,name:"chevronUp",class:"size-3"})):(l(),m(f,{key:0,name:"chevronDown",class:"size-3"}))])])]),a("div",Y,[e(f,{name:"clock3",class:"size-3"}),a("span",Z,"منتشر شده در : "+c(t(F)(o.released_at)),1)]),o.showLog?(l(),r("div",ss,[s[8]||(s[8]=a("div",{class:"text-[13px]"},"تغییرات این نسخه:",-1)),a("ul",ts,[(l(!0),r(u,null,g(o.logs,y=>(l(),r("li",{class:"text-black dark:text-white/70 text-[13px]",innerHTML:y},null,8,es))),256))])])):p("",!0)]),a("div",null,[o.version===x.currentVersion?(l(),m(t(b),{key:0},{default:i(()=>s[9]||(s[9]=[d(" نسخه فعلی شما ")])),_:1})):p("",!0),L===0?(l(),m(t(b),{key:1,class:"mr-2",variant:"info"},{default:i(()=>s[10]||(s[10]=[d(" آخرین نسخه ")])),_:1})):p("",!0)])]))),256))])])]),_:1}),e(t(q),{open:n.model},{default:i(()=>[e(t(H),{onClose:s[2]||(s[2]=o=>n.model=!1)},{default:i(()=>[a("div",as,[e(t(M),{class:"space-y-3"},{default:i(()=>[e(t(W),null,{default:i(()=>s[11]||(s[11]=[d(" به‌روز‌رسانی به آخرین نسخه نرم‎‌افزار ")])),_:1})]),_:1}),a("div",null,[t(v).processing?(l(),r("div",is,s[12]||(s[12]=[a("span",null," در حال بررسی آخرین نسخه... ",-1)]))):(l(),r(u,{key:1},[t(v).isUpdated?(l(),r("span",ls," شما در حال استفاده از آخرین نسخه سایت هستید. ")):p("",!0)],64))]),e(t(I),{class:"gap-2"},{default:i(()=>[e(t(E),{"as-child":""},{default:i(()=>[e(t(_),{variant:"secondary",onClick:s[1]||(s[1]=o=>n.model=!1)},{default:i(()=>s[13]||(s[13]=[d(" لغو")])),_:1})]),_:1}),e(t(_),{variant:"destructive",onClick:n.onDelete,disabled:n.form.processing,loading:n.form.processing},{default:i(()=>s[14]||(s[14]=[d(" حذف کردن ")])),_:1},8,["onClick","disabled","loading"])]),_:1})])]),_:1})]),_:1},8,["open"])],64))}});export{Ls as default};
