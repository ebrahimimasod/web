import{c as C}from"./utils-BSfSTJJn.js";import{u as x}from"./index-Cc0VYeQ3.js";import{c as w,u as V,P as h}from"./usePrimitiveElement-CgzIm-HW.js";import{i as b}from"./nullish-CHIgUVhi.js";import{d,H as g,G as $,c as _,h as m,o as c,w as p,r as y,u as e,m as P,e as N,z as E,I as M}from"./app-DP28Mstu.js";const u=100,[R,B]=w("ProgressRoot"),f=a=>typeof a=="number";function L(a,s){return b(a)||f(a)&&!Number.isNaN(a)&&a<=s&&a>=0?a:(console.error(`Invalid prop \`value\` of value \`${a}\` supplied to \`ProgressRoot\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${u} if no \`max\` prop is set)
  - \`null\`  or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`),null)}function I(a){return f(a)&&!Number.isNaN(a)&&a>0?a:(console.error(`Invalid prop \`max\` of value \`${a}\` supplied to \`ProgressRoot\`. Only numbers greater than 0 are valid max values. Defaulting to \`${u}\`.`),u)}const S=d({__name:"ProgressRoot",props:{modelValue:{},max:{default:u},getValueLabel:{type:Function,default:(a,s)=>`${Math.round(a/s*u)}%`},asChild:{type:Boolean},as:{}},emits:["update:modelValue","update:max"],setup(a,{emit:s}){const r=a,i=s;V();const t=x(r,"modelValue",i,{passive:r.modelValue===void 0}),o=x(r,"max",i,{passive:r.max===void 0});g(()=>t.value,async l=>{const n=L(l,r.max);n!==l&&(await $(),t.value=n)},{immediate:!0}),g(()=>r.max,l=>{const n=I(r.max);n!==l&&(o.value=n)},{immediate:!0});const v=_(()=>b(t.value)?"indeterminate":t.value===o.value?"complete":"loading");return B({modelValue:t,max:o,progressState:v}),(l,n)=>(c(),m(e(h),{"as-child":l.asChild,as:l.as,"aria-valuemax":e(o),"aria-valuemin":0,"aria-valuenow":f(e(t))?e(t):void 0,"aria-valuetext":l.getValueLabel(e(t),e(o)),"aria-label":l.getValueLabel(e(t),e(o)),role:"progressbar","data-state":v.value,"data-value":e(t)??void 0,"data-max":e(o)},{default:p(()=>[y(l.$slots,"default",{modelValue:e(t)})]),_:3},8,["as-child","as","aria-valuemax","aria-valuenow","aria-valuetext","aria-label","data-state","data-value","data-max"]))}}),k=d({__name:"ProgressIndicator",props:{asChild:{type:Boolean},as:{}},setup(a){const s=a,r=R();return V(),(i,t)=>{var o;return c(),m(e(h),P(s,{"data-state":e(r).progressState.value,"data-value":((o=e(r).modelValue)==null?void 0:o.value)??void 0,"data-max":e(r).max.value}),{default:p(()=>[y(i.$slots,"default")]),_:3},16,["data-state","data-value","data-max"])}}}),X=d({__name:"Progress",props:{modelValue:{default:0},max:{},getValueLabel:{},asChild:{type:Boolean},as:{},class:{},isError:{default:!1}},setup(a){const s=a,r=_(()=>{const{class:i,...t}=s;return t});return(i,t)=>(c(),m(e(S),P(r.value,{class:e(C)("relative h-4 w-full overflow-hidden rounded-full bg-secondary",s.class)}),{default:p(()=>[N(e(k),{class:M(["h-full w-full flex-1 bg-primary transition-all",i.isError&&"!bg-red-500"]),style:E(`transform: translateX(-${100-(s.modelValue??0)}%);`)},null,8,["class","style"])]),_:1},16,["class"]))}});export{X as _};
